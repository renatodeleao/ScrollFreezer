{"version":3,"sources":["../../index.js","docs.js"],"names":["ScrollFreezer","isFrozen","curScrollLockPos","_el","document","body","freeze","bind","defrost","toggleFreeze","self","getScrollPos","y","noScrollCSSRules","forEach","styleRule","style","top","window","scrollTo","el","x","pageXOffset","undefined","scrollLeft","pageYOffset","scrollTop","f","toggle","querySelector","addEventListener"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAqBA;AACnB;;;AAGA,2BAAa;AAAA;;AACX,SAAKC,QAAL,GAAgB,KAAhB;AACA,SAAKC,gBAAL,GAAwB,CAAxB;AACA,SAAKC,GAAL,GAAWC,SAASC,IAApB;;AAEA,SAAKC,MAAL,GAAc,KAAKA,MAAL,CAAYC,IAAZ,CAAiB,IAAjB,CAAd;AACA,SAAKC,OAAL,GAAe,KAAKA,OAAL,CAAaD,IAAb,CAAkB,IAAlB,CAAf;AACA,SAAKE,YAAL,GAAoB,KAAKA,YAAL,CAAkBF,IAAlB,CAAuB,IAAvB,CAApB;AACD;;;;6BAEO;AACN,UAAIG,OAAO,IAAX;;AAEAA,WAAKR,gBAAL,GAAwBF,cAAcW,YAAd,GAA6BC,CAArD;AACAZ,oBAAca,gBAAd,CAA+BC,OAA/B,CAAuC,UAASC,SAAT,EAAmB;AACxDL,aAAKP,GAAL,CAASa,KAAT,CAAeD,UAAU,CAAV,CAAf,IAA+BA,UAAU,CAAV,CAA/B;AACD,OAFD;AAGAL,WAAKP,GAAL,CAASa,KAAT,CAAeC,GAAf,GAAqB,CAACP,KAAKR,gBAAN,GAAyB,IAA9C;AACAQ,WAAKT,QAAL,GAAgB,IAAhB;AACD;;;8BAEQ;AACP,UAAIS,OAAO,IAAX;;AAEA;AACAV,oBAAca,gBAAd,CAA+BC,OAA/B,CAAuC,UAASC,SAAT,EAAmB;AACxDL,aAAKP,GAAL,CAASa,KAAT,CAAeD,UAAU,CAAV,CAAf,IAA+B,EAA/B;AACD,OAFD;AAGAL,WAAKP,GAAL,CAASa,KAAT,CAAeC,GAAf,GAAqB,EAArB,CAPO,CAOkB;AACzBC,aAAOC,QAAP,CAAgB,CAAhB,EAAmBT,KAAKR,gBAAxB,EARO,CAQoC;AAC3CQ,WAAKT,QAAL,GAAgB,KAAhB;AACD;;;mCAEa;AACZ,UAAIS,OAAO,IAAX;;AAEA,UAAG,CAACA,KAAKT,QAAT,EAAkB;AAChBS,aAAKJ,MAAL;AACD,OAFD,MAEO;AACLI,aAAKF,OAAL;AACD;AACF;;;+BAES;AACR,aAAO;AACLP,kBAAU,KAAKA,QADV;AAELC,0BAAkB,KAAKA;AAFlB,OAAP;AAID;;;;;;AApDkBF,cAsDZa,mBAAmB,CACxB,CAAC,UAAD,EAAa,OAAb,CADwB,EAExB,CAAC,OAAD,EAAU,KAAV,CAFwB,EAGxB,CAAC,MAAD,EAAS,KAAT,CAHwB,EAIxB,CAAC,WAAD,EAAc,QAAd,CAJwB;;AAtDPb,cA6DZW,eAAe;AAAA,MAACS,EAAD,uEAAMF,MAAN;AAAA,SAAkB;AACtCG,OAAGD,GAAGE,WAAH,KAAmBC,SAAnB,GAA+BH,GAAGE,WAAlC,GAAgDF,GAAGI,UADhB;AAEtCZ,OAAGQ,GAAGK,WAAH,KAAmBF,SAAnB,GAA+BH,GAAGK,WAAlC,GAAgDL,GAAGM;AAFhB,GAAlB;AAAA;;kBA7DH1B;;;;ACArB;;;;;;AAEA,CAAC,YAAU;AACV,KAAM2B,IAAI,qBAAV;AACA,KAAMC,SAASxB,SAASyB,aAAT,CAAuB,8BAAvB,CAAf;AACAD,QAAOE,gBAAP,CAAwB,OAAxB,EAAiC;AAAA,SAAMH,EAAElB,YAAF,EAAN;AAAA,EAAjC;AACA,CAJD","file":"docs.47324082.map","sourcesContent":["export default class ScrollFreezer {\n  /**\n   * @constructor\n   */\n  constructor(){\n    this.isFrozen = false;\n    this.curScrollLockPos = 0;\n    this._el = document.body;\n\n    this.freeze = this.freeze.bind(this);\n    this.defrost = this.defrost.bind(this);\n    this.toggleFreeze = this.toggleFreeze.bind(this);\n  }\n\n  freeze(){\n    var self = this;\n\n    self.curScrollLockPos = ScrollFreezer.getScrollPos().y;\n    ScrollFreezer.noScrollCSSRules.forEach(function(styleRule){\n      self._el.style[styleRule[0]] = styleRule[1];\n    });\n    self._el.style.top = -self.curScrollLockPos + \"px\";\n    self.isFrozen = true;\n  }\n\n  defrost(){\n    var self = this;\n\n    // reset styles\n    ScrollFreezer.noScrollCSSRules.forEach(function(styleRule){\n      self._el.style[styleRule[0]] = \"\";\n    });\n    self._el.style.top = \"\"; // reset\n    window.scrollTo(0, self.curScrollLockPos); // scroll to saved position\n    self.isFrozen = false\n  }\n\n  toggleFreeze(){\n    var self = this;\n\n    if(!self.isFrozen){\n      self.freeze();\n    } else {\n      self.defrost();\n    }\n  }\n\n  getState(){\n    return {\n      isFrozen: this.isFrozen,\n      curScrollLockPos: this.curScrollLockPos\n    }\n  }\n\n  static noScrollCSSRules = [\n    [\"position\", \"fixed\"],\n    [\"right\", \"0px\"],\n    [\"left\", \"0px\"],\n    [\"overflowY\", \"scroll\"]\n  ];\n\n  static getScrollPos = (el = window) => ({\n    x: el.pageXOffset !== undefined ? el.pageXOffset : el.scrollLeft,\n    y: el.pageYOffset !== undefined ? el.pageYOffset : el.scrollTop\n  });\n}\n","import ScrollFreezer from '../../index.js';\n\n(function(){\n\tconst f = new ScrollFreezer();\n\tconst toggle = document.querySelector('[data-scroll-freezer-toggle]');\n\ttoggle.addEventListener('click', () => f.toggleFreeze());\n})();"]}